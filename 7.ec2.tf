
# Bastion Ìò∏Ïä§Ìä∏ EC2 Ïù∏Ïä§ÌÑ¥Ïä§
resource "aws_instance" "pub-ec2-bastion-2a" {
  ami                         = "ami-0fc8aeaa301af7663"
  instance_type               = "t3.micro"
  vpc_security_group_ids      = [aws_security_group.bastion_sg.id]
  subnet_id                   = aws_subnet.pub-subnet-2a.id
  key_name                    = var.key_name
  associate_public_ip_address = true
  iam_instance_profile        = aws_iam_instance_profile.bastion_profile.name
  
  tags = {
    Name    = "bastion-host"
    Project = var.project
    Environment = var.environment
  }

  root_block_device {
    volume_size = 8
    volume_type = "gp2"
    encrypted   = true
    tags = {
      Name    = "ninewiki-test-bastion-root-volume"
      Project = var.project
      Environment = var.environment
    }
  }
  
  user_data = <<-EOF
    #!/bin/bash
    # AWS CLI v2 ÏÑ§Ïπò
    curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
    unzip awscliv2.zip
    sudo ./aws/install

    # kubectl ÏÑ§Ïπò
    curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"
    chmod +x kubectl
    sudo mv kubectl /usr/local/bin/

    # EKS ÌÅ¥Îü¨Ïä§ÌÑ∞ ÏÑ§Ï†ï
    # aws eks update-kubeconfig --region ap-northeast-2 --name ninewiki-eks-cluster
    #eksctl ÏÑ§Ïπò
    curl --silent --location "https://github.com/eksctl-io/eksctl/releases/latest/download/eksctl_$(uname -s)_amd64.tar.gz" | tar xz -C /tmp
    sudo mv /tmp/eksctl /usr/local/bin
    

    #helm ÏÑ§Ïπò
    curl https://raw.githubusercontent.com/helm/helm/main/scripts/get-helm-3 | bash

    #DB ÌÖåÏù¥Î∏î ÏÑ§Ï†ïÏö© ÏÑ§Ïπò
    sudo dnf install -y mariadb105
  EOF
  
  depends_on = [
    aws_eks_node_group.eks_node_group,
    aws_iam_instance_profile.bastion_profile
  ]
}

# BastionÏö© IAM Ïó≠Ìï†
resource "aws_iam_role" "bastion_role" {
  name = "bastion-role"

  assume_role_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Action = "sts:AssumeRole"
        Effect = "Allow"
        Principal = {
          Service = "ec2.amazonaws.com"
        }
      }
    ]
  })
}

# EKS ÌÅ¥Îü¨Ïä§ÌÑ∞ Ï†ëÍ∑º Í∂åÌïú
resource "aws_iam_role_policy" "bastion_eks_policy" {
  name = "bastion-eks-policy"
  role = aws_iam_role.bastion_role.id

  policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Effect = "Allow"
        Action = [
          "eks:DescribeCluster",
          "eks:ListClusters",
          "eks:AccessKubernetesApi"
        ]
        Resource = "*"
      }
    ]
  })
}

# IAM Ïù∏Ïä§ÌÑ¥Ïä§ ÌîÑÎ°úÌïÑ
resource "aws_iam_instance_profile" "bastion_profile" {
  name = "bastion-profile"
  role = aws_iam_role.bastion_role.name
}

# ÌÜµÍ≥Ñ ÏÇ¨Ïù¥Ìä∏Ïö© Elastic IP
resource "aws_eip" "statistics_eip" {
  domain = "vpc"
  
  tags = {
    Name    = "statistics-site-eip"
    Project = var.project
    Environment = var.environment
  }
}

resource "aws_instance" "statistic"{
  ami                         = "ami-0fc8aeaa301af7663"
  instance_type               = "t3.micro"
  vpc_security_group_ids      = [aws_security_group.statistics_sg.id]  # ÌÜµÍ≥Ñ ÏÇ¨Ïù¥Ìä∏ Ï†ÑÏö© Î≥¥Ïïà Í∑∏Î£π ÏÇ¨Ïö©
  subnet_id                   = aws_subnet.pub-subnet-2c.id
  key_name                    = var.key_name
  associate_public_ip_address = true

  
  tags = {
    Name    = "statistics site"
    Project = var.project
    Environment = var.environment
  }
}

# Elastic IPÎ•º ÌÜµÍ≥Ñ ÏÇ¨Ïù¥Ìä∏ EC2Ïóê Ïó∞Í≤∞
resource "aws_eip_association" "statistics_eip_assoc" {
  instance_id   = aws_instance.statistic.id
  allocation_id = aws_eip.statistics_eip.id
}

/*
================================================================================
üìä EC2 Ïù∏Ïä§ÌÑ¥Ïä§ ÌÉÄÏûÖ ÎπÑÍµêÌëú
================================================================================

ÌòÑÏû¨ ÏÇ¨Ïö© Ï§ëÏù∏ Ïù∏Ïä§ÌÑ¥Ïä§ ÌÉÄÏûÖ (ÌÖåÏä§Ìä∏Ïö©):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Ïù∏Ïä§ÌÑ¥Ïä§      ‚îÇ   CPU       ‚îÇ   Î©îÎ™®Î¶¨    ‚îÇ   ÎÑ§Ìä∏ÏõåÌÅ¨  ‚îÇ   Ïõî ÎπÑÏö©   ‚îÇ
‚îÇ     ÌÉÄÏûÖ        ‚îÇ   (vCPU)    ‚îÇ   (GB)      ‚îÇ   (Gbps)    ‚îÇ  (ÌïúÍµ≠)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.micro      ‚îÇ     2       ‚îÇ     1       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$8.5     ‚îÇ
‚îÇ   (Bastion)     ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~11,000Ïõê) ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.micro      ‚îÇ     2       ‚îÇ     1       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$8.5     ‚îÇ
‚îÇ   (ÌÜµÍ≥ÑÏÇ¨Ïù¥Ìä∏)   ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~11,000Ïõê) ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.medium     ‚îÇ     2       ‚îÇ     4       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$34      ‚îÇ
‚îÇ   (EKS ÎÖ∏Îìú)    ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~45,000Ïõê) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Ïã§Ï†ú ÌîÑÎ°úÎçïÏÖò Ï†ÅÏö© Í∂åÏû• Ïù∏Ïä§ÌÑ¥Ïä§ ÌÉÄÏûÖ:
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Ïù∏Ïä§ÌÑ¥Ïä§      ‚îÇ   CPU       ‚îÇ   Î©îÎ™®Î¶¨    ‚îÇ   ÎÑ§Ìä∏ÏõåÌÅ¨  ‚îÇ   Ïõî ÎπÑÏö©   ‚îÇ
‚îÇ     ÌÉÄÏûÖ        ‚îÇ   (vCPU)    ‚îÇ   (GB)      ‚îÇ   (Gbps)    ‚îÇ  (ÌïúÍµ≠)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.small      ‚îÇ     2       ‚îÇ     2       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$17      ‚îÇ
‚îÇ   (Bastion)     ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~22,000Ïõê) ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.small      ‚îÇ     2       ‚îÇ     2       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$17      ‚îÇ
‚îÇ   (ÌÜµÍ≥ÑÏÇ¨Ïù¥Ìä∏)   ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~22,000Ïõê) ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.large      ‚îÇ     2       ‚îÇ     8       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$68      ‚îÇ
‚îÇ   (EKS ÎÖ∏Îìú)    ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~90,000Ïõê) ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

Í≥†ÏÑ±Îä• ÌîÑÎ°úÎçïÏÖò Ïù∏Ïä§ÌÑ¥Ïä§ ÌÉÄÏûÖ (ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ):
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Ïù∏Ïä§ÌÑ¥Ïä§      ‚îÇ   CPU       ‚îÇ   Î©îÎ™®Î¶¨    ‚îÇ   ÎÑ§Ìä∏ÏõåÌÅ¨  ‚îÇ   Ïõî ÎπÑÏö©   ‚îÇ
‚îÇ     ÌÉÄÏûÖ        ‚îÇ   (vCPU)    ‚îÇ   (GB)      ‚îÇ   (Gbps)    ‚îÇ  (ÌïúÍµ≠)     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.medium     ‚îÇ     2       ‚îÇ     4       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$34      ‚îÇ
‚îÇ   (Bastion)     ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~45,000Ïõê) ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   t3.medium     ‚îÇ     2       ‚îÇ     4       ‚îÇ     ÏµúÎåÄ 5  ‚îÇ   ~$34      ‚îÇ
‚îÇ   (ÌÜµÍ≥ÑÏÇ¨Ïù¥Ìä∏)   ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~45,000Ïõê) ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   m5.large      ‚îÇ     2       ‚îÇ     8       ‚îÇ     ÏµúÎåÄ 10 ‚îÇ   ~$85      ‚îÇ
‚îÇ   (EKS ÎÖ∏Îìú)    ‚îÇ             ‚îÇ             ‚îÇ             ‚îÇ (~110,000Ïõê)‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üí° Í∂åÏû•ÏÇ¨Ìï≠:
‚Ä¢ ÌÖåÏä§Ìä∏ ÌôòÍ≤Ω: ÌòÑÏû¨ ÏÑ§Ï†ï Ïú†ÏßÄ (t3.micro)
‚Ä¢ ÏÜåÍ∑úÎ™® ÌîÑÎ°úÎçïÏÖò: t3.smallÎ°ú ÏóÖÍ∑∏Î†àÏù¥Îìú
‚Ä¢ Ï§ëÍ∞Ñ Í∑úÎ™® ÌîÑÎ°úÎçïÏÖò: t3.medium ÏÇ¨Ïö©
‚Ä¢ ÎåÄÏö©Îüâ Ìä∏ÎûòÌîΩ: m5.large ÎòêÎäî c5.large Í≥†Î†§

üîß Ïù∏Ïä§ÌÑ¥Ïä§ ÌÉÄÏûÖ Î≥ÄÍ≤Ω Î∞©Î≤ï:
1. Terraform ÌååÏùºÏóêÏÑú instance_type ÏàòÏ†ï
2. terraform planÏúºÎ°ú Î≥ÄÍ≤ΩÏÇ¨Ìï≠ ÌôïÏù∏
3. terraform applyÎ°ú Ï†ÅÏö© (EC2 Ïû¨ÏãúÏûëÎê®)

‚ö†Ô∏è Ï£ºÏùòÏÇ¨Ìï≠:
‚Ä¢ Ïù∏Ïä§ÌÑ¥Ïä§ ÌÉÄÏûÖ Î≥ÄÍ≤Ω Ïãú EC2Í∞Ä Ïû¨ÏãúÏûëÎê©ÎãàÎã§
‚Ä¢ Îç∞Ïù¥ÌÑ∞ Î∞±ÏóÖ ÌõÑ ÏßÑÌñâÌïòÏÑ∏Ïöî
‚Ä¢ Îã§Ïö¥ÌÉÄÏûÑÏù¥ Î∞úÏÉùÌï† Ïàò ÏûàÏäµÎãàÎã§
================================================================================
*/